
undefined4 loop(void)

{
  int iVar1;
  undefined4 uVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  uint local_100;
  char local_f9 [2];
  byte local_f7;
  int local_f5;
  int local_f1;
  int local_ed;
  int local_e9;
  int local_e5;
  byte local_e1;
  uint local_e0 [36];
  int local_4d;
  int local_49;
  int local_45;
  int local_41;
  int local_3d;
  int local_39;
  int local_35;
  int local_31;
  int local_2d;
  int local_29;
  int local_25;
  int local_21;
  undefined local_1d;

  iVar1 = rand();
  cur_user._36_4_ = iVar1 % 0x31337 | 0x80808080;
  __printf_chk(1,"Welcome, %s!\n",cur_user);
  __printf_chk(1,"Your balance: $%d\n",cur_user._40_4_);
  fflush(stdout);
  puts("\nPlease enter the list of numbers you want to roll (write \'x\' to stop): ");
  fflush(stdout);
  uVar4 = 0;
  while( true ) {
    iVar1 = __isoc99_scanf(&DAT_0804a044,local_e0 + uVar4);
    if (iVar1 < 1) break;
    uVar4 = uVar4 + 1;
  }
  flush_stdin();
  uVar5 = 0;
  for (local_100 = 0; local_100 < uVar4; local_100 = local_100 + 1) {
    iVar1 = rand();
    for (uVar3 = 0; uVar3 < uVar4; uVar3 = uVar3 + 1) {
      if (local_e0[uVar3] % 100 == iVar1 % 100) {
        uVar5 = uVar5 + 1;
      }
    }
  }
  local_4d = (uVar5 & 0xff) * 0x1010101;
  local_1d = (undefined)uVar5;
  local_49 = local_4d;
  local_45 = local_4d;
  local_41 = local_4d;
  local_3d = local_4d;
  local_39 = local_4d;
  local_35 = local_4d;
  local_31 = local_4d;
  local_2d = local_4d;
  local_29 = local_4d;
  local_25 = local_4d;
  local_21 = local_4d;
  __printf_chk(1,"You got: %u out of %u\n",uVar5,uVar4);
  if ((uint)cur_user._40_4_ < 0x65 - uVar5) {
    cur_user._40_4_ = 0;
  }
  else {
    cur_user._40_4_ = cur_user._40_4_ + -0x65 + uVar5;
  }
  if (cur_user._40_4_ == 0) {
    uVar2 = lose();
  }
  else {
    __printf_chk(1,"Remaining balance: $%d\n",cur_user._40_4_,uVar4);
    __printf_chk(1,"Continue? [Y/n]");
    fflush(stdout);
    __isoc99_scanf("%3[^\n]",local_f9);
    flush_stdin();
    local_f5 = (uint)local_f7 * 0x1010101;
    local_e1 = local_f7;
    local_f1 = local_f5;
    local_ed = local_f5;
    local_e9 = local_f5;
    local_e5 = local_f5;
    if ((local_f9[0] == 'n') || (local_f9[0] == 'N')) {
      puts("So long, and thanks for all the money!");
      uVar2 = 1;
    }
    else {
      __printf_chk(1,"\nThis was lucky number: %u\n",cur_user._36_4_);
      uVar2 = 0;
    }
  }
  return uVar2;
}

